<div class="seguro-form-container">
  <form #formulario="ngForm">
    <h2>DATOS DE TU HIPOTECA</h2>
    <div class="datos-hipoteca-columns">
      <div class="label-input">
        <div class="label-with-icon">
          <span>Importe de la hipoteca:</span>
          <span class="importe1">
            <svg class="icon-blink1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10" fill="#558f9e"/>
              <text x="12" y="16" text-anchor="middle" font-size="12" fill="#fff">i</text>
            </svg>
          </span>
        </div>
        <input
          class="input-hipoteca"
          type="number"
          name="importeHipoteca"
          [(ngModel)]="importeHipoteca"
          (ngModelChange)="guardarDatos()"
          required
          [ngClass]="{'input-error': erroresCampos['importeHipoteca']}"
        />
      </div>
      <div class="label-input">
        <div class="label-with-icon">
          <span class="tin-text">TIN bonificado (%):</span>
          <span class="tin-info" data-tooltip="Mensaje de prueba">
            <svg class="icon-blink1-tin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10" fill="#558f9e"/>
              <text x="12" y="16" text-anchor="middle" font-size="12" fill="#fff">i</text>
            </svg>
          </span>
        </div>
        <input
          class="input-tin"
          type="number"
          name="tinBonificado"
          [(ngModel)]="tinBonificado"
          (ngModelChange)="guardarDatos()"
          required
          [ngClass]="{'input-error': erroresCampos['tinBonificado']}"
        />
      </div>
      <div class="label-input">
        <div class="años-text">Años de hipoteca:</div>
        <input
          class="input-anios"
          type="number"
          name="aniosHipoteca"
          [(ngModel)]="aniosHipoteca"
          (ngModelChange)="guardarDatos()"
          min="1"
          max="50"
          required
          [ngClass]="{'input-error': erroresCampos['aniosHipoteca']}"
        />
      </div>
    </div>
    <span class="titulo-seguros">
      SEGUROS
      <span class="icono-seguros" data-tooltip="Desactiva el seguro si no lo tienes bonificado.">
        <svg class="icon-blink2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" fill="#558f9e"/>
          <text x="12" y="16" text-anchor="middle" font-size="12" fill="#fff">i</text>
        </svg>
      </span>
    </span>

    <fieldset class="line-seguro2">
      <legend>
        <span>Seguro de Hogar</span>
        <span class="switch-toggle">
          <input type="checkbox" id="toggleHogar" [(ngModel)]="mostrarBloqueHogar" name="mostrarBloqueHogar" />
          <label for="toggleHogar" class="switch-label"></label>
        </span>
      </legend>
      <div *ngIf="mostrarBloqueHogar" class="grupo-seguro-columns">
        <div class="background-seguro">
          <div class="titulo-seguro-col">Seguro del banco</div>
          <div class="importe-seguro-group">
            <label class="label-banco1">Coste anual:</label>
            <input
              type="number"
              name="importeSeguroBancoHogar"
              [(ngModel)]="importeSeguroBancoHogar"
              (ngModelChange)="guardarDatos()"
              placeholder="€"
              required
              [ngClass]="{'input-error': erroresCampos['importeSeguroBancoHogar']}"
            >
          </div>
          <div class="importe-seguro-group">
            <label class="label-bonificacion">Bonificación:</label>
            <input
              type="number"
              name="bonificacionBancoHogar"
              [(ngModel)]="bonificacionBancoHogar"
              (ngModelChange)="guardarDatos()"
              placeholder="%"
              required
              [ngClass]="{'input-error': erroresCampos['bonificacionBancoHogar']}"
            >
          </div>
        </div>
        <div class="background-seguro">
          <div class="titulo-seguro-col">Seguro externo</div>
          <div class="importe-seguro-group">
            <label class="label-externo1">Coste anual:</label>
            <input
              type="number"
              name="importeSeguroExternoHogar"
              [(ngModel)]="importeSeguroExternoHogar"
              (ngModelChange)="guardarDatos()"
              placeholder="€"
              required
              [ngClass]="{'input-error': erroresCampos['importeSeguroExternoHogar']}"
            >
          </div>
        </div>
      </div>
    </fieldset>

    <fieldset class="line-seguro2">
      <legend>
        <span>Seguro de Vida</span>
        <span class="switch-toggle">
          <input type="checkbox" id="toggleVida" [(ngModel)]="mostrarBloqueVida" name="mostrarBloqueVida"/>
          <label for="toggleVida" class="switch-label"></label>
        </span>
      </legend>
      <div *ngIf="mostrarBloqueVida">
        <div class="grupo-seguro-columns">
          <div class="background-seguro">
            <div class="titulo-seguro-col">Seguro del banco</div>
            <div class="importe-seguro-group">
              <label class="label-banco2">Coste anual:</label>
              <input
                type="number"
                name="importeSeguroBancoVida"
                [(ngModel)]="importeSeguroBancoVida"
                (ngModelChange)="guardarDatos()"
                placeholder="€"
                required
                [ngClass]="{'input-error': erroresCampos['importeSeguroBancoVida']}"
              >
            </div>
            <div class="importe-seguro-group">
              <label class="label-bonificacion">Bonificación:</label>
              <input
                type="number"
                name="bonificacionBancoVida"
                [(ngModel)]="bonificacionBancoVida"
                (ngModelChange)="guardarDatos()"
                placeholder="%"
                required
                [ngClass]="{'input-error': erroresCampos['bonificacionBancoVida']}"
              >
            </div>
          </div>
          <div class="background-seguro">
            <div class="titulo-seguro-col">Seguro externo</div>
            <div class="importe-seguro-group">
              <label class="label-externo2">Coste anual:</label>
              <input
                type="number"
                name="importeSeguroExternoVida"
                [(ngModel)]="importeSeguroExternoVida"
                (ngModelChange)="guardarDatos()"
                placeholder="€"
                required
                [ngClass]="{'input-error': erroresCampos['importeSeguroExternoVida']}"
              >
            </div>
          </div>
        </div>
      </div>
    </fieldset>

    <div *ngIf="mensajeCamposVacios" class="mensaje-error-campos">
      {{ mensajeCamposVacios }}
    </div>
  </form>
  <button type="button" class="delete-seguro" (click)="borrarSeguro()">Borrar datos</button>
  <div *ngIf="resultadoConveniencia" class="resultado-conveniencia" [innerHTML]="resultadoConveniencia"></div>
</div>
<div class="botones-centrados">
  <button type="button" class="btn-buscar" (click)="onSubmit(formulario)">Buscar</button>
  <button class="btn-atras" type="button" (click)="volverAlInicio()">Atrás</button>
</div>